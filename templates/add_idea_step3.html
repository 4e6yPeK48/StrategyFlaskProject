{% extends "empty.html" %}

{% block content %}
    <h1>Добавление идеи - шаг 3</h1>
    <div class="card">
        <form method="POST" enctype="multipart/form-data" style="min-width: 40%; display: flex; flex-direction: column">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div style="display: flex; flex-direction: row; margin-top: 20px">
                <h4 style="margin-top: auto; margin-bottom: auto;flex: 1">Название идеи:</h4>
                <p style="margin-top: auto; margin-bottom: auto;flex: 1">{{ session['idea_name'] }}</p>
            </div>

            <div style="display: flex; flex-direction: row; margin-top: 20px">
                <h4 style="margin-top: auto; margin-bottom: auto; flex: 1">Описание идеи:</h4>
                <p style="margin-top: auto; margin-bottom: auto;flex: 1">{{ session['idea_description'] }}</p>
            </div>

            <div style="display: flex; flex-direction: row; margin-top: 20px">
                <h4 style="margin-top: auto; margin-bottom: auto;flex: 1">Время добавления:</h4>
                <p style="margin-top: auto; margin-bottom: auto;flex: 1">{{ session['idea_time'] }}</p>
            </div>


            <label for="image" class="custom-file-upload button" style="; margin-top: 20px">
                <input type="file" id="image" name="image" class="input-field image-field button">
                <div id="file-name">Выберите файл картинки</div>
            </label>

            <script >
                const fileInput = document.getElementById('image');
                const fileName = document.getElementById('file-name');

                fileInput.addEventListener('change', (event) => {
                    const file = event.target.files[0];
                    fileName.textContent = file.name;
                    fileName.style.backgroundColor = 'black';
                    fileName.style.fontWeight = 'bold';
                });
            </script>

            <input type="submit" name="submit_button" value="Submit Idea"
                   style="margin-top: 20px;margin-bottom: 20px; border: none"
                   class="button">
        </form>
    </div>
{% endblock %}
